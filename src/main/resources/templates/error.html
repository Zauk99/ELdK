<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>¡Vaya! Algo salió mal | El Diario de Kanto</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
        .error-container {
            text-align: center;
            padding: 50px 20px;
            color: white;
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .error-code { font-size: 6em; font-weight: bold; color: #FFDE00; text-shadow: 4px 4px #3B4CCA; margin: 0; }
        .error-message { font-size: 1.5em; margin-bottom: 30px; color: #ddd; }
        .psyduck-img { width: 200px; margin-bottom: 20px; animation: float 3s ease-in-out infinite; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-15px); } 100% { transform: translateY(0px); } }
    </style>
</head>
<body>
    <header class="header">
      <div class="header-container">
        <div class="logo-area">
          <a th:href="@{/}" class="site-title-link">
            <img th:src="@{/img/Logo.png}" alt="Logo" width="100px" />
          </a>
        </div>

        <div style="display: flex; align-items: center">
          <a
            sec:authorize="hasRole('ADMIN')"
            th:href="@{/admin/crear-noticia}"
            class="admin-action-button"
          >
            <i class="fas fa-plus"></i> Añadir Noticia
          </a>
          <a sec:authorize="!isAuthenticated()" th:href="@{/login}">
            <button class="login-button">Iniciar Sesión</button>
          </a>
          <div sec:authorize="isAuthenticated()" class="user-menu-container">
            <button id="userMenuBtn" class="user-button">
              <img
                th:src="${#authentication.principal.fotoPerfilUrl}"
                alt="Avatar"
                class="user-avatar"
                style="object-fit: cover"
              />
              <span th:text="${#authentication.principal.username}"
                >Usuario</span
              >
              <i class="fas fa-chevron-down"></i>
            </button>
            <div id="userDropdown" class="user-dropdown-content">
              <a
                th:href="@{/perfil}"
                class="dropdown-item"
                style="
                  display: block;
                  padding: 12px 16px;
                  color: white;
                  text-decoration: none;
                  border-bottom: 1px solid #444;
                  text-align: left;
                "
              >
                <i class="fas fa-user" style="width: 20px"></i> Ver Perfil
              </a>
              <form th:action="@{/logout}" method="post" style="margin: 0">
                <button
                  type="submit"
                  style="width: 100%; text-align: left; padding: 12px 16px"
                >
                  <i class="fas fa-sign-out-alt" style="width: 20px"></i> Cerrar
                  Sesión
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="error-container">
        <img th:src="@{/img/psyduck.png}" alt="Error" class="psyduck-img"> 
        
        <!-- <h1 class="error-code" th:text="${status} ?: 'Error'">Ups!</h1> -->
        
        <p class="error-message" th:text="${error} ?: 'Ha ocurrido un error inesperado. Psyduck está confundido.'">
            Algo ha fallado en el sistema.
        </p>
        
        <a th:href="@{/}" class="poke-button">Volver al Inicio</a>
    </main>

    <footer class="main-footer">
    <div class="footer-content-wrapper">
      <div class="footer-info">
        <img
          th:src="@{/img/Logo.png}"
          alt="Logo de la Pokédex"
          class="footer-logo"
        />
        <p class="description">
          Tu portal informativo sobre Pokémon favorito. Bienvenido a El Diario
          de Kanto!<br />
          Tu Pokédex interactiva. Explora detalles, movimientos y cadenas
          evolutivas de todos tus Pokémon favoritos.
          <br />¡Atrapa la información!
        </p>
      </div>

      <div class="footer-meta">
        <p class="creator">Creado por: Pablo Herrera Domínguez</p>
        <p class="copyright">
          ©2025 El Diario de Kanto. Todos los derechos reservados.
        </p>
        <p class="disclaimer">
          Nota: Esta web usa la API no oficial de Pokémon (PokeAPI). Pokémon y
          sus nombres son marcas registradas de Nintendo, Game Freak y The
          Pokémon Company.
        </p>
      </div>
    </div>
  </footer>
  <script src="js/main.js"></script>
</body>
</html>